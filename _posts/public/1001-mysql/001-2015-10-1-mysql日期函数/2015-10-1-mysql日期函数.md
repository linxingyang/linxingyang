---
layout: post
permalink: mysql-date-function
title: mysql日期函数
categories: [mysql]
tags: [sql,mysql,函数,日期函数]
excerpt: sql,mysql,日期函数,日期处理
description: sql,mysql,日期函数,日期处理
picUrl: images\public\1001\001
---


---
# mysql日期相关 #

---
## 日期类型 ##
```
date         1001-01-01
datetime     1001-01-01 00:00:00
timestamp    19700101080001    --  2038年的某个时刻
time         
year    1999
```
* 如果只要表示年月日，用date
* 如果要表示年月日时分秒 ，用datetime
* 经常插入或更新  用 timestamp .  
* 只用来表示时分秒  用 time
* 只表示年份  用 year

---
---
## 基本函数 ## 

### curdate() ### 

返回当前日期

### curtime() ###

返回当前时间

### now() ####

返回当前日期和时间


### unix_timestamp(date)  ###

返回日期date的unix时间戳

### week(date)  ###

 一年中的第几周
### year(date) ###

  返回年费
### hour(date) ###

  返回小时数
### minute(time) ###

  返回分钟数

### monthname(date) ###
  返回月份名


## 格式日期 ##
### date_format(date,fmt) ###

按字符串fmt格式化日期date值


### str_to_date() 字符串转日期 ###
分隔符一致，年月日要一致
```sql
select str_to_date('2008-4-2 15:3:28','%Y-%m-%d %H:%i:%s');

select str_to_date('2008-08-09 08:9:30', '%Y-%m-%d %h:%i:%s');
```
---
---
## 比较日期 ##
### datediff(expr,expr2)  ###
返回起始时间expr和结束时间expr2之间的天数
前大 后小 为正数。

```sql 
select datediff(date_format('2017-08-18 14:38:17', '%Y-%m-%d'),date_format('2017-08-19 16:38:17', '%Y-%m-%d'))
结果：
-1 

select datediff(date_format('2017-08-13 14:38:17', '%Y-%m-%d'),date_format('2017-08-19 16:38:17', '%Y-%m-%d'))
结果：
-6

select datediff(date_format('2017-08-19 14:38:17', '%Y-%m-%d'),date_format('2017-08-19 16:38:17', '%Y-%m-%d'))
结果：
0

select datediff(date_format('2017-08-22 14:38:17', '%Y-%m-%d'),date_format('2017-08-19 16:38:17', '%Y-%m-%d'))
结果：
3
```











